operations:
    user_activate:
        label: oro.userpro.action.activate.label
        acl_resource: oro_user_user_update
        entities:
            - Oro\Bundle\UserBundle\Entity\User
        routes:
            - oro_user_view
            - oro_user_index
        datagrids:
            - users-grid
        order: 45
        groups:
            - datagridRowAction
            - view_navButtons
        button_options:
            icon: fa-unlock
            class: btn-success icons-holder-text
        preconditions:
            '@and':
                - '@equal': [true, $isEnabled]
                - '@equal': ['locked', $authStatus.id]
        actions:
            - '@request_enum_entity': # set status "Available" to user
                  enum_code: auth_status
                  identifier: 'active'
                  attribute: $.data.authStatus
            - '@assign_value': [$.data.enabled, true]
            - '@flush_entity': $.data
            - '@flash_message':
                message: oro.userpro.action.activate.success
                type: 'success'
                message_parameters:
                    'username': $.data.username
