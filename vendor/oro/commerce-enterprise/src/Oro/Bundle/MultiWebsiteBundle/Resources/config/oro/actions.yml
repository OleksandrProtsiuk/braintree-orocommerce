operations:
    oro_multiwebsite_set_default_website:
        label: oro.multiwebsite.operations.set_default.label
        applications: [default]
        button_options:
            icon: fa-flag
        entities:
            - Oro\Bundle\WebsiteBundle\Entity\Website
        preconditions:
            '@equal': [false, $isDefault]
        actions:
            - '@run_action_group':
                action_group: oro_multiwebsite_set_default_website
                parameters_mapping:
                   data: $.data
            - '@flash_message':
                message: oro.multiwebsite.operations.set_default.message.success
                type: 'success'

action_groups:
    oro_multiwebsite_set_default_website:
        parameters:
            data:
                type: Oro\Bundle\WebsiteBundle\Entity\Website
        actions:
            - '@call_service_method':
                service: oro_website.manager
                method: setDefaultWebsite
                method_parameters: [$.data]
